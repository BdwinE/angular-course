<div>
  <div class="row mt-md-2 mt-4 mt-sm-5">
    <div *ngIf="!editMode; else editRecipeHeading">
      <h2>New Recipe</h2>
    </div>
    <hr />
    <div class="col">
      <form ngNativeValidate #form>
        <div class="row">
          <div class="form-group">
            <div class="row">
              <div class="col-sm-12">
                <label>Recipe Name</label>
                <input
                  #RecipeName
                  required
                  type="text"
                  class="form-control"
                  placeholder="Recipe Name"
                />

                <label>Recipe Description</label>
                <input
                  #RecipeDescription
                  required
                  type="text"
                  class="form-control"
                  placeholder="Recipe Description"
                />

                <label>Image Path</label>
                <input
                  required
                  #RecipeImagePath
                  type="text"
                  class="form-control"
                  placeholder="Image Path"
                />
              </div>
            </div>

            <div class="row">
              <div class="col-12 col-sm-6">
                <label>Ingredient</label>
                <input
                  #RecipeIngredientName
                  type="text"
                  class="form-control"
                  placeholder="Ingredient"
                />
              </div>
              <div class="col-12 col-sm-2">
                <label>Amount</label>
                <input
                  #RecipeIngredientAmount
                  type="text"
                  class="form-control"
                  placeholder="Amount"
                />
              </div>
              <div class="col-sm-3 col-12">
                <div class="row">
                  <label>Add Ingredient</label>
                </div>
                <div class="row mx-2">
                  <button
                    class="btn btn-success"
                    (click)="
                      addIngredientToList(
                        RecipeIngredientName.value,
                        RecipeIngredientAmount.value
                      )
                    "
                  >
                    Add
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-3 px-4">
          <button
            type="submit"
            (click)="form.checkValidity() ? onSubmitNewRecipe() : null"
            class="btn btn-primary text-center justify-content-center"
          >
            Submit
          </button>
        </div>
      </form>
    </div>
  </div>
  <div *ngIf="!editMode; else recipeIngredients"></div>
  <div class="row mt-2">
    <h4>Ingredients To Add:</h4>
  </div>
  <div class="row" *ngFor="let ingredient of bufferIngredients; index as i">
    <div class="col-sm-2">
      <p>{{ ingredient.name }}</p>
    </div>
    <div class="col-sm-2">
      <p>{{ ingredient.amount }}</p>
    </div>
    <div class="col-sm-2">
      <button
        class="btn-close btn-danger"
        (click)="removeIngredient(i)"
      ></button>
    </div>
  </div>
</div>

<ng-template #recipeIngredients>
  <div class="row mt-2">
    <h4>Recipe Ingredients:</h4>
  </div>
  <div class="row" *ngFor="let ingredient of getIngredients(); index as i">
    <div class="col-sm-2">
      <p>{{ ingredient.name }}</p>
    </div>
    <div class="col-sm-2">
      <p>{{ ingredient.amount }}</p>
    </div>
    <div class="col-sm-2">
      <button
        class="btn-close btn-danger"
        (click)="removeIngredient(i)"
      ></button>
    </div>
  </div>
</ng-template>

<ng-template #editRecipeHeading>
  <h2>Edit Recipe</h2>
</ng-template>

<ng-template> </ng-template>
